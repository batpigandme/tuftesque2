<html>


  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
    <meta charset="UTF-8">

    <link rel="stylesheet" href="$css$" $if(html5)$$else$type="text/css" $endif$/>

    <title>$title$</title>
  </head>

  <body>
    <div class = 'intro'>
      $if(title)$
    <h1 class="title toc-ignore">$title$</h1>
    $if(subtitle)$
    <h3 class="subtitle">$subtitle$</h3>
    $endif$
    $for(author)$
    $if(author.name)$
    <h4 class="author">$author.name$</h4>
    $if(author.affiliation)$
    <address class="author_afil">
    $author.affiliation$<br>$endif$
    $if(author.email)$
    <a class="author_email" href="mailto:#">$author.email$</a>
    </address>
    $endif$
    $else$
    <h4 class="author">$author$</h4>
    $endif$
    $endfor$
    $if(date)$
    <h4 class="date">$date$</h4>
    $endif$
    $if(abstract)$
    <div class="abstract">
    <p class="abstract">Abstract</p>
    $abstract$
    </div>
    $endif$
    $endif$
    </div>


    <div class = 'container'>
$body$
    </div>

    <script>
    window.onload = function () {
      const side_notes = document.getElementsByClassName('side-note');
      for (let note of side_notes) {
        note.addEventListener(
          "click", function(el) {
            const note_classes = this.classList;
            const is_selected = note_classes.contains('selected');
            if(is_selected){
              console.log('node is selected already')
              note_classes.remove('selected');
            } else {
              console.log('node is being selected')
              note_classes.add('selected');
            }
          });

      }
    }
  </script>
  </body>
</html>
